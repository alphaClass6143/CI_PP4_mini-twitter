{% extends "../base.html" %}

{% block content %}
<main class="container">
    <div class="d-flex flex-wrap">
        {% if profile.user_picture %}
            <a href="{% url 'profile' profile.username %}" class="btn"><img class="profile-icon-lg" src="{{ profile.user_picture }}"></a>
        {% else %}
            <a href="{% url 'profile' profile.username %}" class="btn"><i class="fa-solid fa-user fa-2x"></i>
        {% endif %}
        <a href="{% url 'profile' profile.username %}" class="row">{{ profile.username }}</a>
        {% if user != request.user and request.user.is_authenticated %}
            {% if not is_following %}
                <a href="{% url 'follow' user.username %}" class="btn btn-primary">Follow</a>
            {% else %}
                <a href="{% url 'unfollow' user.username %}" class="btn btn-danger">Unfollow</a>
            {% endif %}
        {% endif %}
    </div>
    <div class="row">
        {{ profile.user_text }}
    </div>
    <div class="d-flex justify-content-around">
        <a href="{% url 'profile_following' profile.username %}" class="nav-link fs-4">{{ following_count }} Following</a>
        <a href="{% url 'profile_follower' profile.username %}" class="nav-link fs-4">{{ follower_count }} Follower</a>
        <p class="nav-link fs-4">{{ post_count }} Posts</p>
    </div>
    <div class="post-list row container">
        {% for post in post_list %}
            <div class="post">
                <div>
                    <div>
                        <i class="fa-solid fa-user"></i>
                        <a href="">{{ post.user.username }}</a>
                    </div>                
                </div>
                <a href="{% url 'view_post' post.id %}">
                    {{ post.content }}
                </a>
                <div class="post-bottom-preview">
                    <i class="fa-solid fa-message"></i>
    
                </div>
                
            </div>
        {% endfor %}
    </div>

</main>

{% endblock %}
